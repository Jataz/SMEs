{% load static %}

<!-- jQuery -->
<script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>
<!-- Bootstrap 4 -->
<script src="{% static 'plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<!-- AdminLTE App -->
<script src="{% static 'dist/js/adminlte.min.js' %}"></script>
<!-- AdminLTE for demo purposes -->
<script src="{% static 'dist/js/demo.js' %}"></script>


<!-- Swiss Alerts -->
<script src="{% static 'plugins/sweetalert2/sweetalert2.min.js' %}"></script>

<script src="{% static 'plugins/toastr/toastr.min.js' %}"></script>
<script src="{% static 'plugins/select2/js/select2.full.min.js' %}"></script>

<script>
    $(function () {
      $('#dataTable').DataTable({
        "paging": true,
        "lengthChange": true,
        "searching": true,
        "ordering": false,
        "info": true,
        "autoWidth": false,
        "responsive": true,
        "buttons": ["excel", "csv"],
      }).buttons().container().appendTo('#dataTable_wrapper .col-md-6:eq(0)');
    });

    // Set a timeout period (10 minutes = 600,000 milliseconds)
    var TIMEOUT_PERIOD = 10 * 60 * 1000; // 10 minutes

    var timeout;

    function redirectToLogin() {
        alert("You have been logged out due to inactivity.");
        window.location.href = '/logout/';
    }

    function resetTimeout() {
        clearTimeout(timeout);
        timeout = setTimeout(redirectToLogin, TIMEOUT_PERIOD);
    }

    // Listen for user activity events and reset the timeout
    function setupActivityListeners() {
        ['mousemove', 'mousedown', 'click', 'scroll', 'keypress', 'touchstart', 'touchmove'].forEach(event => {
            document.addEventListener(event, resetTimeout);
        });
    }

    // Initialize timeout after the page loads
    document.addEventListener("DOMContentLoaded", function () {
        setupActivityListeners();
        resetTimeout();
    });        
  </script>

    
